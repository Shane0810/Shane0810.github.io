{"title":"Linux 安装RabbitMQ","slug":"Linux-安装RabbitMQ","date":"2020-06-23T12:04:55.000Z","updated":"2020-06-23T12:08:55.603Z","comments":true,"path":"api/articles/Linux-安装RabbitMQ.json","excerpt":null,"covers":["image-20200623191247730.png","image-20200623191344555.png","image-20200623191427939.png","image-20200623191510620.png","image-20200623192709163.png","image-20200623193623869.png","image-20200623200343937.png","image-20200623195116379.png","image-20200623200320102.png"],"content":"<h1 id=\"Linux安装RabbitMQ\"><a href=\"#Linux安装RabbitMQ\" class=\"headerlink\" title=\"Linux安装RabbitMQ\"></a>Linux安装RabbitMQ</h1><h2 id=\"1、erlang的安装\"><a href=\"#1、erlang的安装\" class=\"headerlink\" title=\"1、erlang的安装\"></a>1、erlang的安装</h2><p>首先，使用</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">erl -version</span><br></pre></td></tr></table></figure>\n\n<p>查看版本，卸载旧版本</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum remove erlang*</span><br></pre></td></tr></table></figure>\n\n<p>之后安装erlang22.0</p>\n<p>在etc/yum.repo.d/rabbitmq-erlang.repo下</p>\n<blockquote>\n<p><a href=\"https://github.com/rabbitmq/erlang-rpm\" target=\"_blank\" rel=\"noopener\">https://github.com/rabbitmq/erlang-rpm</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># In /etc/yum.repos.d/rabbitmq-erlang.repo</span></span><br><span class=\"line\">[rabbitmq-erlang]</span><br><span class=\"line\">name=rabbitmq-erlang</span><br><span class=\"line\">baseurl=https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/22/el/7</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.asc</span><br><span class=\"line\">repo_gpgcheck=0</span><br><span class=\"line\">enabled=1</span><br></pre></td></tr></table></figure>\n\n<p>执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install erlang</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2、安装RabbitMQ-Server\"><a href=\"#2、安装RabbitMQ-Server\" class=\"headerlink\" title=\"2、安装RabbitMQ Server\"></a>2、安装RabbitMQ Server</h2><p>下载安装包</p>\n<blockquote>\n<p><a href=\"https://dl.bintray.com/rabbitmq/rpm/rabbitmq-server/v3.8.x/el/7/noarch/\" target=\"_blank\" rel=\"noopener\">https://dl.bintray.com/rabbitmq/rpm/rabbitmq-server/v3.8.x/el/7/noarch/</a></p>\n</blockquote>\n<p><img src=\"image-20200623191247730.png\" alt=\"alt\"></p>\n<p>然后上传到服务器</p>\n<p>使用命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh rabbitmq-server-3.8.5-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>出现错误：</p>\n<p><img src=\"image-20200623191344555.png\" alt=\"alt\"></p>\n<p>安装socat</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install socat -y</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623191427939.png\" alt=\"alt\"></p>\n<p>继续执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh rabbitmq-server-3.8.5-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623191510620.png\" alt=\"alt\"></p>\n<p>安装位置</p>\n<p><img src=\"image-20200623192709163.png\" alt=\"alt\"></p>\n<h2 id=\"3、启动\"><a href=\"#3、启动\" class=\"headerlink\" title=\"3、启动\"></a>3、启动</h2><p><img src=\"image-20200623193623869.png\" alt=\"alt\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 启动</span></span><br><span class=\"line\">systemctl start rabbitmq-server</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># 状态</span></span><br><span class=\"line\">systemctl status rabbitmq-server</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># 关闭</span></span><br><span class=\"line\">systemctl stop rabbitmq-server</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4、配置文件\"><a href=\"#4、配置文件\" class=\"headerlink\" title=\"4、配置文件\"></a>4、配置文件</h2><blockquote>\n<p><a href=\"https://github.com/rabbitmq/rabbitmq-server/blob/v3.7.x/docs/rabbitmq.conf.example\" target=\"_blank\" rel=\"noopener\">https://github.com/rabbitmq/rabbitmq-server/blob/v3.7.x/docs/rabbitmq.conf.example</a></p>\n</blockquote>\n<p>在etc/rabbitmq目录下新建rabbitmq.conf文件</p>\n<p>修改其中的（取消注释）</p>\n<p><img src=\"image-20200623200343937.png\" alt=\"alt\"></p>\n<h2 id=\"5、配置网页插件\"><a href=\"#5、配置网页插件\" class=\"headerlink\" title=\"5、配置网页插件\"></a>5、配置网页插件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure>\n\n<p>重新启动之后，查看运行状态</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status rabbitmq-server</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623195116379.png\" alt=\"alt\"></p>\n<p>配置文件生效</p>\n<p>访问管理界面</p>\n<p><img src=\"image-20200623200320102.png\" alt=\"alt\"></p>\n<h2 id=\"附：配置阿里云安全组\"><a href=\"#附：配置阿里云安全组\" class=\"headerlink\" title=\"附：配置阿里云安全组\"></a>附：配置阿里云安全组</h2><p>放行15672端口</p>\n","more":"<h1 id=\"Linux安装RabbitMQ\"><a href=\"#Linux安装RabbitMQ\" class=\"headerlink\" title=\"Linux安装RabbitMQ\"></a>Linux安装RabbitMQ</h1><h2 id=\"1、erlang的安装\"><a href=\"#1、erlang的安装\" class=\"headerlink\" title=\"1、erlang的安装\"></a>1、erlang的安装</h2><p>首先，使用</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">erl -version</span><br></pre></td></tr></table></figure>\n\n<p>查看版本，卸载旧版本</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum remove erlang*</span><br></pre></td></tr></table></figure>\n\n<p>之后安装erlang22.0</p>\n<p>在etc/yum.repo.d/rabbitmq-erlang.repo下</p>\n<blockquote>\n<p><a href=\"https://github.com/rabbitmq/erlang-rpm\" target=\"_blank\" rel=\"noopener\">https://github.com/rabbitmq/erlang-rpm</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># In /etc/yum.repos.d/rabbitmq-erlang.repo</span></span><br><span class=\"line\">[rabbitmq-erlang]</span><br><span class=\"line\">name=rabbitmq-erlang</span><br><span class=\"line\">baseurl=https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/22/el/7</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.asc</span><br><span class=\"line\">repo_gpgcheck=0</span><br><span class=\"line\">enabled=1</span><br></pre></td></tr></table></figure>\n\n<p>执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install erlang</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2、安装RabbitMQ-Server\"><a href=\"#2、安装RabbitMQ-Server\" class=\"headerlink\" title=\"2、安装RabbitMQ Server\"></a>2、安装RabbitMQ Server</h2><p>下载安装包</p>\n<blockquote>\n<p><a href=\"https://dl.bintray.com/rabbitmq/rpm/rabbitmq-server/v3.8.x/el/7/noarch/\" target=\"_blank\" rel=\"noopener\">https://dl.bintray.com/rabbitmq/rpm/rabbitmq-server/v3.8.x/el/7/noarch/</a></p>\n</blockquote>\n<p><img src=\"image-20200623191247730.png\" alt=\"alt\"></p>\n<p>然后上传到服务器</p>\n<p>使用命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh rabbitmq-server-3.8.5-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p>出现错误：</p>\n<p><img src=\"image-20200623191344555.png\" alt=\"alt\"></p>\n<p>安装socat</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install socat -y</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623191427939.png\" alt=\"alt\"></p>\n<p>继续执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -ivh rabbitmq-server-3.8.5-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623191510620.png\" alt=\"alt\"></p>\n<p>安装位置</p>\n<p><img src=\"image-20200623192709163.png\" alt=\"alt\"></p>\n<h2 id=\"3、启动\"><a href=\"#3、启动\" class=\"headerlink\" title=\"3、启动\"></a>3、启动</h2><p><img src=\"image-20200623193623869.png\" alt=\"alt\"></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 启动</span></span><br><span class=\"line\">systemctl start rabbitmq-server</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># 状态</span></span><br><span class=\"line\">systemctl status rabbitmq-server</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\"># 关闭</span></span><br><span class=\"line\">systemctl stop rabbitmq-server</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4、配置文件\"><a href=\"#4、配置文件\" class=\"headerlink\" title=\"4、配置文件\"></a>4、配置文件</h2><blockquote>\n<p><a href=\"https://github.com/rabbitmq/rabbitmq-server/blob/v3.7.x/docs/rabbitmq.conf.example\" target=\"_blank\" rel=\"noopener\">https://github.com/rabbitmq/rabbitmq-server/blob/v3.7.x/docs/rabbitmq.conf.example</a></p>\n</blockquote>\n<p>在etc/rabbitmq目录下新建rabbitmq.conf文件</p>\n<p>修改其中的（取消注释）</p>\n<p><img src=\"image-20200623200343937.png\" alt=\"alt\"></p>\n<h2 id=\"5、配置网页插件\"><a href=\"#5、配置网页插件\" class=\"headerlink\" title=\"5、配置网页插件\"></a>5、配置网页插件</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure>\n\n<p>重新启动之后，查看运行状态</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status rabbitmq-server</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"image-20200623195116379.png\" alt=\"alt\"></p>\n<p>配置文件生效</p>\n<p>访问管理界面</p>\n<p><img src=\"image-20200623200320102.png\" alt=\"alt\"></p>\n<h2 id=\"附：配置阿里云安全组\"><a href=\"#附：配置阿里云安全组\" class=\"headerlink\" title=\"附：配置阿里云安全组\"></a>附：配置阿里云安全组</h2><p>放行15672端口</p>\n","categories":[],"tags":[{"name":"软件安装","path":"api/tags/软件安装.json"}]}