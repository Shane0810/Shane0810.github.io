{"title":"Linux安装Redis","slug":"Linux安装Redis","date":"2020-06-18T04:34:57.000Z","updated":"2020-06-18T04:37:49.437Z","comments":true,"path":"api/articles/Linux安装Redis.json","excerpt":null,"covers":null,"content":"<h1 id=\"服务器安装Redis\"><a href=\"#服务器安装Redis\" class=\"headerlink\" title=\"服务器安装Redis\"></a>服务器安装Redis</h1><ul>\n<li>这次吸取教训，将所有的安装步骤都记录下来，不然可太伤了</li>\n<li>！！！<strong>重要</strong> 记得redis不能公开ip访问，否则容易被攻击，亲身体验</li>\n</ul>\n<h2 id=\"下载Redis\"><a href=\"#下载Redis\" class=\"headerlink\" title=\"下载Redis\"></a>下载Redis</h2><p>官网下载</p>\n<blockquote>\n<p>本次版本：redis-6.0.3.tar.gz</p>\n</blockquote>\n<h2 id=\"解压\"><a href=\"#解压\" class=\"headerlink\" title=\"解压\"></a>解压</h2><p>将安装包放到/opt下并解压</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf redis-6.0.3.tar.gz</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"编译安装\"><a href=\"#编译安装\" class=\"headerlink\" title=\"编译安装\"></a>编译安装</h2><p>安装编译环境</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc-c++</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make</span><br></pre></td></tr></table></figure>\n\n<p>等待编译完成</p>\n<p>报错</p>\n<p>是因为gcc版本过低，默认是4.8.5，而6以上的都需要新的 gcc支持</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;升级gcc到9以上</span><br><span class=\"line\">yum -y install centos-release-scl</span><br><span class=\"line\">yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;临时将此时的gcc版本改为9</span><br><span class=\"line\">scl enable devtoolset-9 bash</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n\n<p>redis默认安装路径 usr/local/bin</p>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>新建一个文件夹，在usr/local/bin下，myconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir myconfig</span><br></pre></td></tr></table></figure>\n\n<p>将配置文件拷贝过来</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp &#x2F;opt&#x2F;redis-6.0.3&#x2F;redis.conf myconfig&#x2F;</span><br></pre></td></tr></table></figure>\n\n<p>修改配置文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim redis.conf</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"开启服务\"><a href=\"#开启服务\" class=\"headerlink\" title=\"开启服务\"></a>开启服务</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis-server myconfig&#x2F;redis.conf</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;使用redis-cli连接，使用redis</span><br><span class=\"line\">redis-cli -p 6379</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;查看redis进程</span><br><span class=\"line\">ps -ef|grep redis</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;关闭</span><br><span class=\"line\">在redis-cli下键入</span><br><span class=\"line\">shutdown</span><br></pre></td></tr></table></figure>\n\n","more":"<h1 id=\"服务器安装Redis\"><a href=\"#服务器安装Redis\" class=\"headerlink\" title=\"服务器安装Redis\"></a>服务器安装Redis</h1><ul>\n<li>这次吸取教训，将所有的安装步骤都记录下来，不然可太伤了</li>\n<li>！！！<strong>重要</strong> 记得redis不能公开ip访问，否则容易被攻击，亲身体验</li>\n</ul>\n<h2 id=\"下载Redis\"><a href=\"#下载Redis\" class=\"headerlink\" title=\"下载Redis\"></a>下载Redis</h2><p>官网下载</p>\n<blockquote>\n<p>本次版本：redis-6.0.3.tar.gz</p>\n</blockquote>\n<h2 id=\"解压\"><a href=\"#解压\" class=\"headerlink\" title=\"解压\"></a>解压</h2><p>将安装包放到/opt下并解压</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf redis-6.0.3.tar.gz</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"编译安装\"><a href=\"#编译安装\" class=\"headerlink\" title=\"编译安装\"></a>编译安装</h2><p>安装编译环境</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc-c++</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make</span><br></pre></td></tr></table></figure>\n\n<p>等待编译完成</p>\n<p>报错</p>\n<p>是因为gcc版本过低，默认是4.8.5，而6以上的都需要新的 gcc支持</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;升级gcc到9以上</span><br><span class=\"line\">yum -y install centos-release-scl</span><br><span class=\"line\">yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;临时将此时的gcc版本改为9</span><br><span class=\"line\">scl enable devtoolset-9 bash</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n\n<p>redis默认安装路径 usr/local/bin</p>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p>新建一个文件夹，在usr/local/bin下，myconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir myconfig</span><br></pre></td></tr></table></figure>\n\n<p>将配置文件拷贝过来</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp &#x2F;opt&#x2F;redis-6.0.3&#x2F;redis.conf myconfig&#x2F;</span><br></pre></td></tr></table></figure>\n\n<p>修改配置文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim redis.conf</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"开启服务\"><a href=\"#开启服务\" class=\"headerlink\" title=\"开启服务\"></a>开启服务</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis-server myconfig&#x2F;redis.conf</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;使用redis-cli连接，使用redis</span><br><span class=\"line\">redis-cli -p 6379</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;查看redis进程</span><br><span class=\"line\">ps -ef|grep redis</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;关闭</span><br><span class=\"line\">在redis-cli下键入</span><br><span class=\"line\">shutdown</span><br></pre></td></tr></table></figure>\n\n","categories":[],"tags":[{"name":"软件安装","path":"api/tags/软件安装.json"}]}