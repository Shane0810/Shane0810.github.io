{"title":"Redis学习系列（一）","slug":"Redis学习系列（一）","date":"2020-06-18T13:29:07.000Z","updated":"2020-06-18T13:30:21.290Z","comments":true,"path":"api/articles/Redis学习系列（一）.json","excerpt":null,"covers":null,"content":"<h1 id=\"Redis学习系列-一\"><a href=\"#Redis学习系列-一\" class=\"headerlink\" title=\"Redis学习系列(一)\"></a>Redis学习系列(一)</h1><h2 id=\"NoSQL概述\"><a href=\"#NoSQL概述\" class=\"headerlink\" title=\"NoSQL概述\"></a>NoSQL概述</h2><p>为什么需要使用NoSQL：</p>\n<p>用户的个人信息，社交网络，地理位置等用户自己产生的数据，用户日志等等爆法式增长。这个时候需要使用NoSQL。</p>\n<p>因此又有一个问题：</p>\n<h3 id=\"1、到底什么是NoSQL？\"><a href=\"#1、到底什么是NoSQL？\" class=\"headerlink\" title=\"1、到底什么是NoSQL？\"></a><strong>1、到底什么是NoSQL？</strong></h3><p>关系型数据库：表格，行和列。</p>\n<p>很多的数据类型用户的个人信息，社交网络，地理位置这些数据的存储不需要一个固定的格式。而NoSQL类型的数据库以其自身的特点能够满足这样的使用要求。</p>\n<blockquote>\n<p>——百度百科</p>\n<p>对于NoSQL并没有一个明确的范围和定义，但是他们都普遍存在下面一些共同特征：</p>\n<h3 id=\"易扩展\"><a href=\"#易扩展\" class=\"headerlink\" title=\"易扩展\"></a>易扩展</h3><p>NoSQL数据库种类繁多，但是一个共同的特点都是去掉关系数据库的关系型特性。数据之间无关系，这样就非常容易扩展。无形之间，在架构的层面上带来了可扩展的能力。 </p>\n<h3 id=\"大数据量，高性能\"><a href=\"#大数据量，高性能\" class=\"headerlink\" title=\"大数据量，高性能\"></a>大数据量，高性能</h3><p>NoSQL数据库都具有非常高的读写性能，尤其在大数据量下，同样表现优秀。这得益于它的无关系性，数据库的结构简单。一般MySQL使用Query Cache。NoSQL的Cache是记录级的，是一种细粒度的Cache，所以NoSQL在这个层面上来说性能就要高很多。 </p>\n<h3 id=\"灵活的数据模型\"><a href=\"#灵活的数据模型\" class=\"headerlink\" title=\"灵活的数据模型\"></a>灵活的数据模型</h3><p>NoSQL无须事先为要存储的数据建立字段，随时可以存储自定义的数据格式。而在关系数据库里，增删字段是一件非常麻烦的事情。如果是非常大数据量的表，增加字段简直就是——个噩梦。这点在大数据量的Web 2.0时代尤其明显。 </p>\n<h3 id=\"高可用\"><a href=\"#高可用\" class=\"headerlink\" title=\"高可用\"></a>高可用</h3><p>NoSQL在不太影响性能的情况，就可以方便地实现高可用的架构。比如Cassandra、HBase模型，通过复制模型也能实现高可用。 </p>\n</blockquote>\n<h3 id=\"2、传统的关系型数据库和NoSQl的区别\"><a href=\"#2、传统的关系型数据库和NoSQl的区别\" class=\"headerlink\" title=\"2、传统的关系型数据库和NoSQl的区别\"></a><strong>2、传统的关系型数据库和NoSQl的区别</strong></h3><p>关系型数据库</p>\n<ul>\n<li>结构化组织</li>\n<li>SQL </li>\n<li>数据和关系都存在单独的表中</li>\n<li>数据操作语言，数据定义语言</li>\n<li>严格的一致性</li>\n<li>基础的事务</li>\n<li>。。。</li>\n</ul>\n<p>NoSQL</p>\n<ul>\n<li>不仅仅是数据</li>\n<li>没有固定的查询语言</li>\n<li>键值对存储，列存储，文档存储，图形数据库</li>\n<li>最终一致性</li>\n<li>CAP定理和BASE（异地多活）</li>\n<li>高性能,高可用,高可扩展性(扩容)</li>\n</ul>\n<h4 id=\"3、四大分类\"><a href=\"#3、四大分类\" class=\"headerlink\" title=\"3、四大分类\"></a>3、四大分类</h4><p><strong>KV键值对:</strong></p>\n<ul>\n<li><p>新浪:redis</p>\n</li>\n<li><p>美团:redis+Tair</p>\n</li>\n<li><p>阿里百度:Redis+memecache</p>\n<p><strong>文档型数据库</strong>:</p>\n</li>\n<li><p>MongoDB(是一个基于分布式文件存储的数据库,C++编写,主要处理大量的文档,是NoSQL中功能最丰富,最像关系型数据库</p>\n</li>\n</ul>\n<p><strong>列存储数据库</strong></p>\n<ul>\n<li>HBase</li>\n<li>分布式文件系统</li>\n</ul>\n<p><strong>图关系数据库</strong></p>\n<ul>\n<li>主要是存储关系的,比如社交网络,图论?</li>\n</ul>\n<h2 id=\"Redis入门\"><a href=\"#Redis入门\" class=\"headerlink\" title=\"Redis入门\"></a>Redis入门</h2><h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><blockquote>\n<p>——百度百科</p>\n<p>Redis（Remote Dictionary Server )，即远程字典服务，是一个开源的使用ANSI <a href=\"https://baike.baidu.com/item/C语言\" target=\"_blank\" rel=\"noopener\">C语言</a>编写、支持网络、可基于内存亦可持久化的日志型、Key-Value<a href=\"https://baike.baidu.com/item/数据库/103728\" target=\"_blank\" rel=\"noopener\">数据库</a>，并提供多种语言的API。</p>\n</blockquote>\n<blockquote>\n<p>——Redis官方</p>\n</blockquote>\n<h3 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h3><ul>\n<li>内存存储、持久化、内存中是断电即失、所以注意持久化</li>\n<li>效率高，可以用于高速存储</li>\n<li>发布订阅系统</li>\n<li>地图信息分析</li>\n<li>计时器、技术器（浏览量）</li>\n<li>。。。</li>\n</ul>\n<h3 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h3><ul>\n<li>多样的数据类型</li>\n<li>持久化</li>\n<li>集群</li>\n<li>事务</li>\n<li>……</li>\n</ul>\n<p>默认有16个数据库，使用第0个。</p>\n<ul>\n<li>Redis是单线程的。是基于内存操作的，CPU不是Redis的性能瓶颈，Redis的瓶颈是根据机器的内存和网络带宽。但是6.0以后是多线程的</li>\n</ul>\n<p>经典问题之 <strong>单线程为何这么快</strong>？</p>\n<p>redis是将所有的数据都睡存放在内存中，所以使用单线程去操作是效率最高的。（待求证）</p>\n<h3 id=\"Redis-key\"><a href=\"#Redis-key\" class=\"headerlink\" title=\"Redis-key\"></a>Redis-key</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane 123 //添加key</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; expire shane 10 //设置过期时间</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane //查看当前key的剩余时间</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 6</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) -2</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane 123</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; exists shane//判断是否存在这个key</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; move shane 1//移动key到指定编号的数据库</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">(empty array)</span><br><span class=\"line\">127.0.0.1:6379[1]&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379[1]&gt; <span class=\"built_in\">type</span> shane //查看数据类型</span><br><span class=\"line\">string</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"五大数据类型\"><a href=\"#五大数据类型\" class=\"headerlink\" title=\"五大数据类型\"></a>五大数据类型</h3><p><strong>1、String</strong> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; get shane<span class=\"comment\">#获取key</span></span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; append shane is <span class=\"comment\">#在shane对应的值下添加“is\"返回的是添加成功之后的value长度</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 5</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123is\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; append shane1 1 <span class=\"comment\">#如果key不存在，就会创建新的key</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1 </span><br><span class=\"line\">127.0.0.1:6379&gt; append shane 1234</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 10</span><br><span class=\"line\">127.0.0.1:6379&gt; strlen shane <span class=\"comment\">#string类型的数据的 长度。</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 10</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#######################</span></span><br><span class=\"line\"><span class=\"comment\">#i++操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; get views</span><br><span class=\"line\"><span class=\"string\">\"0\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; incr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; incr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; decr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; get views </span><br><span class=\"line\"><span class=\"string\">\"1\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; incrby views 10<span class=\"comment\"># 设置步长</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 11</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#######################</span></span><br><span class=\"line\"><span class=\"comment\">#字符串范围</span></span><br><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane <span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getrange shane 0 3 <span class=\"comment\">#截取字符串</span></span><br><span class=\"line\"><span class=\"string\">\"hell\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getrange shane 0 -1<span class=\"comment\">#获取全部字符串，等于get shane</span></span><br><span class=\"line\"><span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#替换</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setrange shane 5 niaho <span class=\"comment\">#替换指定位置开是的字符串</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 22</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"helloniahocome to ZJU \"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########################</span></span><br><span class=\"line\"><span class=\"comment\">#setex(set with expire) #设置过期时间</span></span><br><span class=\"line\"><span class=\"comment\">#setnx(set if not exist) #不存在设置，在分布式锁中会经常使用</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setex keys  30 shane <span class=\"comment\">#设置keys的值为shane，过期时间为30s</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get keys</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 20</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 17</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 13</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) -2</span><br><span class=\"line\">127.0.0.1:6379&gt; get kyes</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setnx key3 <span class=\"string\">\"shane\"</span> <span class=\"comment\">#如果创建的key3不存在，创建成功</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"key3\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setnx key3 <span class=\"string\">\"shane\"</span><span class=\"comment\">#如果创建的key3存在，创建失败</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\"><span class=\"comment\">##################</span></span><br><span class=\"line\">mset</span><br><span class=\"line\">mget</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> 127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3<span class=\"comment\">#同时设置多个值</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"k2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"k1\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"k3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; mget k1 k2 k3<span class=\"comment\"># 同时获取多个值</span></span><br><span class=\"line\">1) <span class=\"string\">\"v1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"v2\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"v3\"</span></span><br><span class=\"line\"><span class=\"comment\">#msetnx是一个原子性操作，要么都成功，要么都失败</span></span><br><span class=\"line\">127.0.0.1:6379&gt; msetnx k1 v1 k4 v4</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; get k4</span><br><span class=\"line\">(nil)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#对象</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> user:1 &#123;name:zhangsan,age:3&#125; <span class=\"comment\">#设置一个user:1对象，值位json字符来保存一个对象！</span></span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; mget user:1:name user:1:age</span><br><span class=\"line\">1) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"2\"</span></span><br><span class=\"line\"><span class=\"comment\">#redis中可以将key以这种方式来命名：user:&#123;id&#125;:&#123;filed&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##############</span></span><br><span class=\"line\">getset <span class=\"comment\">#先get后set的组合</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getset key2 <span class=\"string\">\"zhangsan \"</span><span class=\"comment\">#如果不存在key2，会创建一个key2，返回null</span></span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; get key2</span><br><span class=\"line\"><span class=\"string\">\"zhangsan \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getset key2 <span class=\"string\">\"shane\"</span><span class=\"comment\">#如果存在，会返回修改之前的数据，就是先get后set修改。</span></span><br><span class=\"line\"><span class=\"string\">\"zhangsan \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; get key2</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br></pre></td></tr></table></figure>\n\n<p>String类型常用的使用场景：value可以是字符串还可以是数字。</p>\n<p>可以用来作为</p>\n<ul>\n<li>计数器</li>\n<li>统计多单位的数量 </li>\n<li>对象缓存</li>\n</ul>\n<p><strong>2、List</strong><br>基本的数据类型，列表</p>\n<p>可以使用list实现栈，阻塞队列，队列</p>\n<p>所有的命令都是l开头</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">###################</span></span><br><span class=\"line\"><span class=\"comment\"># 将一个或者多个数据插入列表的头部</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list one </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list two</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\"><span class=\"comment\">#获取所有的数据</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"three\"</span></span><br><span class=\"line\"><span class=\"comment\">#获取一个范围的数据，包含两个界</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##########################</span></span><br><span class=\"line\"><span class=\"comment\">#将一个值或者多个值放到头部。</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane one</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane two</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\"><span class=\"comment\">#将一个值或者多个值插入到尾部</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpush shane right</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"right\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#################移除元素#############</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpop shane<span class=\"comment\">#移除list的第一个元素</span></span><br><span class=\"line\"><span class=\"string\">\"three\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"right\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpop shane <span class=\"comment\">#移除list的最后一个元素</span></span><br><span class=\"line\"><span class=\"string\">\"right\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#####################</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lindex shane 0<span class=\"comment\">#通过下标获取某一个值</span></span><br><span class=\"line\"><span class=\"string\">\"two\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##########################</span></span><br><span class=\"line\"><span class=\"comment\">#llen</span></span><br><span class=\"line\">127.0.0.1:6379&gt; llen shane <span class=\"comment\">#返回列表的长度</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">############</span></span><br><span class=\"line\"><span class=\"comment\">#lrem移除指定的值</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrem shane 1 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrem shane 2 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"><span class=\"comment\">#############</span></span><br><span class=\"line\"><span class=\"comment\"># trim 修剪，在redis的list中的截断。</span></span><br><span class=\"line\"> 127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello1\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello4\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; ltrim mylist 1 2<span class=\"comment\">#通过指定下标截取的长度，这个list已经改变。截断后只剩下最后一个元素</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\"><span class=\"comment\">################</span></span><br><span class=\"line\"><span class=\"comment\">#rpoplpush </span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpoplpush mylist shane<span class=\"comment\">#将mylist中操作一个rpop，然后将取得的元素lpush进shane</span></span><br><span class=\"line\"><span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1<span class=\"comment\">#查看源列表</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1<span class=\"comment\">#查看目标列表</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"><span class=\"comment\">################</span></span><br><span class=\"line\"><span class=\"comment\">#lset将列表中指定下标的值替换为另外一个值，更新操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; exists list </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; lset list 0 item</span><br><span class=\"line\">(error) ERR no such key</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list value</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lset list 0 item</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 0</span><br><span class=\"line\">1) <span class=\"string\">\"item\"</span></span><br><span class=\"line\"><span class=\"comment\">##################</span></span><br><span class=\"line\"><span class=\"comment\">#linsert</span></span><br><span class=\"line\">127.0.0.1:6379&gt; linsert shane before hello3 other<span class=\"comment\">#在指定的元素的前面插入</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"other\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; linsert shane after hello3 new <span class=\"comment\">#在指定的元素的后面插入</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 5</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"other\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"new\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"one\"</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>list实际上是一个链表</li>\n</ul>\n<p><strong>3、Set</strong></p>\n<p>set中的值不是重复的。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"hello\"</span> <span class=\"comment\">#set集合中添加元素</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane \"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset <span class=\"comment\">#查看set的所有值</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sismember myset hello  <span class=\"comment\">#判断某一个值是不是在set集合中</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获取set集合中的内容元素个数</span></span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"><span class=\"comment\">#移除set集合中的某个元素</span></span><br><span class=\"line\">127.0.0.1:6379&gt; srem myset hello</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#随机获取其中的某个元素</span></span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember mysql</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember myset</span><br><span class=\"line\"><span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember myset 1</span><br><span class=\"line\">1) <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除指定的key，随机删除key</span></span><br><span class=\"line\">127.0.0.1:6379&gt; spop myset</span><br><span class=\"line\"><span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset</span><br><span class=\"line\">1) <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#将一个指定的值移动到另外一个set中</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane:</span></span><br><span class=\"line\"><span class=\"string\">Invalid argument(s)</span></span><br><span class=\"line\"><span class=\"string\">127.0.0.1:6379&gt; sadd myset \"</span>shane::</span><br><span class=\"line\">Invalid argument(s)</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane::\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"zhansan\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset2 <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smove myset myset2 zhansan</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset</span><br><span class=\"line\">1) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane::\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset2</span><br><span class=\"line\">1) <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhansan\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#集合操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 a</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 b</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 c</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 c</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 d</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 e </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sdiff key1 key2<span class=\"comment\">#key1中取key2中没有的 </span></span><br><span class=\"line\">1) <span class=\"string\">\"a\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"b\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sdiff key2 key1<span class=\"comment\">#key2中取key1中没有的</span></span><br><span class=\"line\">1) <span class=\"string\">\"e\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"d\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sinter key1 key2 <span class=\"comment\">#key1和key2的交集</span></span><br><span class=\"line\">1) <span class=\"string\">\"c\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sunion key1 key2 <span class=\"comment\">#key1和key2的并集</span></span><br><span class=\"line\">1) <span class=\"string\">\"a\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"c\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"b\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"d\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"e\"</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>4、Hash</strong><br>key-map（k-v）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; flushdb</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; hset myhash field1 shane<span class=\"comment\">#set一个具体的key-value</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hget myhash field1</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hmset myhash field hello field2 world<span class=\"comment\">#set多个key-value</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; hmget myhash field field2<span class=\"comment\">#获取多个字段值</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"world\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall myhash<span class=\"comment\">#获取所有的值</span></span><br><span class=\"line\">1) <span class=\"string\">\"field1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\">6) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除指定的key字段，对应的value一起删除</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hdel myhash field1</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall myhash</span><br><span class=\"line\">1) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#hlen获取hash表的长度</span></span><br><span class=\"line\">127.0.0.1:6379&gt;  hlen myhash</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#hexists 判断是否存在对应的key</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash field2</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash field</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash fiel</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获得所有的value</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hvals myhash</span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"><span class=\"comment\">#只获得所有field值</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hkeys myhash</span><br><span class=\"line\">1) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#incr</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hset myhash fields3 5</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby myhash fields3 1<span class=\"comment\">#指定增量1</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 6</span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; hsetnx myhash field4 hello<span class=\"comment\">#如果不存在可以创建</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hsetnx myhash field4 hello<span class=\"comment\">#如果存在不可以设置</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br></pre></td></tr></table></figure>\n\n<p>hash变更的数据user name age,尤其是用户信息之类的，经常变动的 信息！hash更加适合对象的存储，String更加适合字符串的存储</p>\n<p><strong>5、Zset（有序集合）</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; zadd myZset 1 one</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd myzset 2 two 3 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange myzset 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zadd myZset 2 two 3 three </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange myZset 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"three\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#既然是有序的，就可以排序</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 2500 zhangsan</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 3000 lisi</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 300 wangwu</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf +inf</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf inf withscores</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"300\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"2500\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">6) <span class=\"string\">\"3000\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf 2600 withscores</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"300\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"2500\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#移除</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrange salary 0 -1<span class=\"comment\">#获取所有元素，默认从小到大</span></span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrevrange salary 0 -1<span class=\"comment\">#默认从大到小进行排序</span></span><br><span class=\"line\">1) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrem salary zhangsan<span class=\"comment\">#移除指定的元素</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange salary 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zcard salary<span class=\"comment\">#获取有序集合中的个数</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#按照区间获取成员数量</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zcount myset 1 3</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; zcount myset 1 2</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br></pre></td></tr></table></figure>\n\n","more":"<h1 id=\"Redis学习系列-一\"><a href=\"#Redis学习系列-一\" class=\"headerlink\" title=\"Redis学习系列(一)\"></a>Redis学习系列(一)</h1><h2 id=\"NoSQL概述\"><a href=\"#NoSQL概述\" class=\"headerlink\" title=\"NoSQL概述\"></a>NoSQL概述</h2><p>为什么需要使用NoSQL：</p>\n<p>用户的个人信息，社交网络，地理位置等用户自己产生的数据，用户日志等等爆法式增长。这个时候需要使用NoSQL。</p>\n<p>因此又有一个问题：</p>\n<h3 id=\"1、到底什么是NoSQL？\"><a href=\"#1、到底什么是NoSQL？\" class=\"headerlink\" title=\"1、到底什么是NoSQL？\"></a><strong>1、到底什么是NoSQL？</strong></h3><p>关系型数据库：表格，行和列。</p>\n<p>很多的数据类型用户的个人信息，社交网络，地理位置这些数据的存储不需要一个固定的格式。而NoSQL类型的数据库以其自身的特点能够满足这样的使用要求。</p>\n<blockquote>\n<p>——百度百科</p>\n<p>对于NoSQL并没有一个明确的范围和定义，但是他们都普遍存在下面一些共同特征：</p>\n<h3 id=\"易扩展\"><a href=\"#易扩展\" class=\"headerlink\" title=\"易扩展\"></a>易扩展</h3><p>NoSQL数据库种类繁多，但是一个共同的特点都是去掉关系数据库的关系型特性。数据之间无关系，这样就非常容易扩展。无形之间，在架构的层面上带来了可扩展的能力。 </p>\n<h3 id=\"大数据量，高性能\"><a href=\"#大数据量，高性能\" class=\"headerlink\" title=\"大数据量，高性能\"></a>大数据量，高性能</h3><p>NoSQL数据库都具有非常高的读写性能，尤其在大数据量下，同样表现优秀。这得益于它的无关系性，数据库的结构简单。一般MySQL使用Query Cache。NoSQL的Cache是记录级的，是一种细粒度的Cache，所以NoSQL在这个层面上来说性能就要高很多。 </p>\n<h3 id=\"灵活的数据模型\"><a href=\"#灵活的数据模型\" class=\"headerlink\" title=\"灵活的数据模型\"></a>灵活的数据模型</h3><p>NoSQL无须事先为要存储的数据建立字段，随时可以存储自定义的数据格式。而在关系数据库里，增删字段是一件非常麻烦的事情。如果是非常大数据量的表，增加字段简直就是——个噩梦。这点在大数据量的Web 2.0时代尤其明显。 </p>\n<h3 id=\"高可用\"><a href=\"#高可用\" class=\"headerlink\" title=\"高可用\"></a>高可用</h3><p>NoSQL在不太影响性能的情况，就可以方便地实现高可用的架构。比如Cassandra、HBase模型，通过复制模型也能实现高可用。 </p>\n</blockquote>\n<h3 id=\"2、传统的关系型数据库和NoSQl的区别\"><a href=\"#2、传统的关系型数据库和NoSQl的区别\" class=\"headerlink\" title=\"2、传统的关系型数据库和NoSQl的区别\"></a><strong>2、传统的关系型数据库和NoSQl的区别</strong></h3><p>关系型数据库</p>\n<ul>\n<li>结构化组织</li>\n<li>SQL </li>\n<li>数据和关系都存在单独的表中</li>\n<li>数据操作语言，数据定义语言</li>\n<li>严格的一致性</li>\n<li>基础的事务</li>\n<li>。。。</li>\n</ul>\n<p>NoSQL</p>\n<ul>\n<li>不仅仅是数据</li>\n<li>没有固定的查询语言</li>\n<li>键值对存储，列存储，文档存储，图形数据库</li>\n<li>最终一致性</li>\n<li>CAP定理和BASE（异地多活）</li>\n<li>高性能,高可用,高可扩展性(扩容)</li>\n</ul>\n<h4 id=\"3、四大分类\"><a href=\"#3、四大分类\" class=\"headerlink\" title=\"3、四大分类\"></a>3、四大分类</h4><p><strong>KV键值对:</strong></p>\n<ul>\n<li><p>新浪:redis</p>\n</li>\n<li><p>美团:redis+Tair</p>\n</li>\n<li><p>阿里百度:Redis+memecache</p>\n<p><strong>文档型数据库</strong>:</p>\n</li>\n<li><p>MongoDB(是一个基于分布式文件存储的数据库,C++编写,主要处理大量的文档,是NoSQL中功能最丰富,最像关系型数据库</p>\n</li>\n</ul>\n<p><strong>列存储数据库</strong></p>\n<ul>\n<li>HBase</li>\n<li>分布式文件系统</li>\n</ul>\n<p><strong>图关系数据库</strong></p>\n<ul>\n<li>主要是存储关系的,比如社交网络,图论?</li>\n</ul>\n<h2 id=\"Redis入门\"><a href=\"#Redis入门\" class=\"headerlink\" title=\"Redis入门\"></a>Redis入门</h2><h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><blockquote>\n<p>——百度百科</p>\n<p>Redis（Remote Dictionary Server )，即远程字典服务，是一个开源的使用ANSI <a href=\"https://baike.baidu.com/item/C语言\" target=\"_blank\" rel=\"noopener\">C语言</a>编写、支持网络、可基于内存亦可持久化的日志型、Key-Value<a href=\"https://baike.baidu.com/item/数据库/103728\" target=\"_blank\" rel=\"noopener\">数据库</a>，并提供多种语言的API。</p>\n</blockquote>\n<blockquote>\n<p>——Redis官方</p>\n</blockquote>\n<h3 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h3><ul>\n<li>内存存储、持久化、内存中是断电即失、所以注意持久化</li>\n<li>效率高，可以用于高速存储</li>\n<li>发布订阅系统</li>\n<li>地图信息分析</li>\n<li>计时器、技术器（浏览量）</li>\n<li>。。。</li>\n</ul>\n<h3 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h3><ul>\n<li>多样的数据类型</li>\n<li>持久化</li>\n<li>集群</li>\n<li>事务</li>\n<li>……</li>\n</ul>\n<p>默认有16个数据库，使用第0个。</p>\n<ul>\n<li>Redis是单线程的。是基于内存操作的，CPU不是Redis的性能瓶颈，Redis的瓶颈是根据机器的内存和网络带宽。但是6.0以后是多线程的</li>\n</ul>\n<p>经典问题之 <strong>单线程为何这么快</strong>？</p>\n<p>redis是将所有的数据都睡存放在内存中，所以使用单线程去操作是效率最高的。（待求证）</p>\n<h3 id=\"Redis-key\"><a href=\"#Redis-key\" class=\"headerlink\" title=\"Redis-key\"></a>Redis-key</h3> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane 123 //添加key</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; expire shane 10 //设置过期时间</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane //查看当前key的剩余时间</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 6</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl shane</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) -2</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane 123</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; exists shane//判断是否存在这个key</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; move shane 1//移动key到指定编号的数据库</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">(empty array)</span><br><span class=\"line\">127.0.0.1:6379[1]&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379[1]&gt; <span class=\"built_in\">type</span> shane //查看数据类型</span><br><span class=\"line\">string</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"五大数据类型\"><a href=\"#五大数据类型\" class=\"headerlink\" title=\"五大数据类型\"></a>五大数据类型</h3><p><strong>1、String</strong> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; get shane<span class=\"comment\">#获取key</span></span><br><span class=\"line\"><span class=\"string\">\"123\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; append shane is <span class=\"comment\">#在shane对应的值下添加“is\"返回的是添加成功之后的value长度</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 5</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"123is\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; append shane1 1 <span class=\"comment\">#如果key不存在，就会创建新的key</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1 </span><br><span class=\"line\">127.0.0.1:6379&gt; append shane 1234</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 10</span><br><span class=\"line\">127.0.0.1:6379&gt; strlen shane <span class=\"comment\">#string类型的数据的 长度。</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 10</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#######################</span></span><br><span class=\"line\"><span class=\"comment\">#i++操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; get views</span><br><span class=\"line\"><span class=\"string\">\"0\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; incr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; incr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; decr views </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; get views </span><br><span class=\"line\"><span class=\"string\">\"1\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; incrby views 10<span class=\"comment\"># 设置步长</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 11</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#######################</span></span><br><span class=\"line\"><span class=\"comment\">#字符串范围</span></span><br><span class=\"line\">127.0.0.1:6379&gt; <span class=\"built_in\">set</span> shane <span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getrange shane 0 3 <span class=\"comment\">#截取字符串</span></span><br><span class=\"line\"><span class=\"string\">\"hell\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getrange shane 0 -1<span class=\"comment\">#获取全部字符串，等于get shane</span></span><br><span class=\"line\"><span class=\"string\">\"hello ,welcome to ZJU \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#替换</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setrange shane 5 niaho <span class=\"comment\">#替换指定位置开是的字符串</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 22</span><br><span class=\"line\">127.0.0.1:6379&gt; get shane</span><br><span class=\"line\"><span class=\"string\">\"helloniahocome to ZJU \"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">########################</span></span><br><span class=\"line\"><span class=\"comment\">#setex(set with expire) #设置过期时间</span></span><br><span class=\"line\"><span class=\"comment\">#setnx(set if not exist) #不存在设置，在分布式锁中会经常使用</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setex keys  30 shane <span class=\"comment\">#设置keys的值为shane，过期时间为30s</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; get keys</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 20</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 17</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 13</span><br><span class=\"line\">127.0.0.1:6379&gt; ttl keys</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) -2</span><br><span class=\"line\">127.0.0.1:6379&gt; get kyes</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setnx key3 <span class=\"string\">\"shane\"</span> <span class=\"comment\">#如果创建的key3不存在，创建成功</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"key3\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; setnx key3 <span class=\"string\">\"shane\"</span><span class=\"comment\">#如果创建的key3存在，创建失败</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\"><span class=\"comment\">##################</span></span><br><span class=\"line\">mset</span><br><span class=\"line\">mget</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> 127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3<span class=\"comment\">#同时设置多个值</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; keys *</span><br><span class=\"line\">1) <span class=\"string\">\"k2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"k1\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"k3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; mget k1 k2 k3<span class=\"comment\"># 同时获取多个值</span></span><br><span class=\"line\">1) <span class=\"string\">\"v1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"v2\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"v3\"</span></span><br><span class=\"line\"><span class=\"comment\">#msetnx是一个原子性操作，要么都成功，要么都失败</span></span><br><span class=\"line\">127.0.0.1:6379&gt; msetnx k1 v1 k4 v4</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; get k4</span><br><span class=\"line\">(nil)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#对象</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> user:1 &#123;name:zhangsan,age:3&#125; <span class=\"comment\">#设置一个user:1对象，值位json字符来保存一个对象！</span></span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; mget user:1:name user:1:age</span><br><span class=\"line\">1) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"2\"</span></span><br><span class=\"line\"><span class=\"comment\">#redis中可以将key以这种方式来命名：user:&#123;id&#125;:&#123;filed&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##############</span></span><br><span class=\"line\">getset <span class=\"comment\">#先get后set的组合</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getset key2 <span class=\"string\">\"zhangsan \"</span><span class=\"comment\">#如果不存在key2，会创建一个key2，返回null</span></span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; get key2</span><br><span class=\"line\"><span class=\"string\">\"zhangsan \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; getset key2 <span class=\"string\">\"shane\"</span><span class=\"comment\">#如果存在，会返回修改之前的数据，就是先get后set修改。</span></span><br><span class=\"line\"><span class=\"string\">\"zhangsan \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; get key2</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br></pre></td></tr></table></figure>\n\n<p>String类型常用的使用场景：value可以是字符串还可以是数字。</p>\n<p>可以用来作为</p>\n<ul>\n<li>计数器</li>\n<li>统计多单位的数量 </li>\n<li>对象缓存</li>\n</ul>\n<p><strong>2、List</strong><br>基本的数据类型，列表</p>\n<p>可以使用list实现栈，阻塞队列，队列</p>\n<p>所有的命令都是l开头</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">###################</span></span><br><span class=\"line\"><span class=\"comment\"># 将一个或者多个数据插入列表的头部</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list one </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list two</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\"><span class=\"comment\">#获取所有的数据</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"three\"</span></span><br><span class=\"line\"><span class=\"comment\">#获取一个范围的数据，包含两个界</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##########################</span></span><br><span class=\"line\"><span class=\"comment\">#将一个值或者多个值放到头部。</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane one</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane two</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\"><span class=\"comment\">#将一个值或者多个值插入到尾部</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpush shane right</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"right\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#################移除元素#############</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpop shane<span class=\"comment\">#移除list的第一个元素</span></span><br><span class=\"line\"><span class=\"string\">\"three\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"right\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpop shane <span class=\"comment\">#移除list的最后一个元素</span></span><br><span class=\"line\"><span class=\"string\">\"right\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#####################</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lindex shane 0<span class=\"comment\">#通过下标获取某一个值</span></span><br><span class=\"line\"><span class=\"string\">\"two\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##########################</span></span><br><span class=\"line\"><span class=\"comment\">#llen</span></span><br><span class=\"line\">127.0.0.1:6379&gt; llen shane <span class=\"comment\">#返回列表的长度</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">############</span></span><br><span class=\"line\"><span class=\"comment\">#lrem移除指定的值</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrem shane 1 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lpush shane three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrem shane 2 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"><span class=\"comment\">#############</span></span><br><span class=\"line\"><span class=\"comment\"># trim 修剪，在redis的list中的截断。</span></span><br><span class=\"line\"> 127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello1\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; rpush mylist <span class=\"string\">\"hello4\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; ltrim mylist 1 2<span class=\"comment\">#通过指定下标截取的长度，这个list已经改变。截断后只剩下最后一个元素</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\"><span class=\"comment\">################</span></span><br><span class=\"line\"><span class=\"comment\">#rpoplpush </span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; rpoplpush mylist shane<span class=\"comment\">#将mylist中操作一个rpop，然后将取得的元素lpush进shane</span></span><br><span class=\"line\"><span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange mylist 0 -1<span class=\"comment\">#查看源列表</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello2\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1<span class=\"comment\">#查看目标列表</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"one\"</span></span><br><span class=\"line\"><span class=\"comment\">################</span></span><br><span class=\"line\"><span class=\"comment\">#lset将列表中指定下标的值替换为另外一个值，更新操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; exists list </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; lset list 0 item</span><br><span class=\"line\">(error) ERR no such key</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush list value</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lset list 0 item</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange list 0 0</span><br><span class=\"line\">1) <span class=\"string\">\"item\"</span></span><br><span class=\"line\"><span class=\"comment\">##################</span></span><br><span class=\"line\"><span class=\"comment\">#linsert</span></span><br><span class=\"line\">127.0.0.1:6379&gt; linsert shane before hello3 other<span class=\"comment\">#在指定的元素的前面插入</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 4</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"other\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; linsert shane after hello3 new <span class=\"comment\">#在指定的元素的后面插入</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 5</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange shane 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"other\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello3\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"new\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"one\"</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>list实际上是一个链表</li>\n</ul>\n<p><strong>3、Set</strong></p>\n<p>set中的值不是重复的。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"hello\"</span> <span class=\"comment\">#set集合中添加元素</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane \"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset <span class=\"comment\">#查看set的所有值</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sismember myset hello  <span class=\"comment\">#判断某一个值是不是在set集合中</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获取set集合中的内容元素个数</span></span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"><span class=\"comment\">#移除set集合中的某个元素</span></span><br><span class=\"line\">127.0.0.1:6379&gt; srem myset hello</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#随机获取其中的某个元素</span></span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember mysql</span><br><span class=\"line\">(nil)</span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember myset</span><br><span class=\"line\"><span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; scard myset</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; srandmember myset 1</span><br><span class=\"line\">1) <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除指定的key，随机删除key</span></span><br><span class=\"line\">127.0.0.1:6379&gt; spop myset</span><br><span class=\"line\"><span class=\"string\">\"shane \"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset</span><br><span class=\"line\">1) <span class=\"string\">\"shane1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#将一个指定的值移动到另外一个set中</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane:</span></span><br><span class=\"line\"><span class=\"string\">Invalid argument(s)</span></span><br><span class=\"line\"><span class=\"string\">127.0.0.1:6379&gt; sadd myset \"</span>shane::</span><br><span class=\"line\">Invalid argument(s)</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"shane::\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"zhansan\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd myset2 <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smove myset myset2 zhansan</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset</span><br><span class=\"line\">1) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane::\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; smembers myset2</span><br><span class=\"line\">1) <span class=\"string\">\"hahahah\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhansan\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#集合操作</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 a</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 b</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key1 c</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 c</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 d</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd key2 e </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sdiff key1 key2<span class=\"comment\">#key1中取key2中没有的 </span></span><br><span class=\"line\">1) <span class=\"string\">\"a\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"b\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sdiff key2 key1<span class=\"comment\">#key2中取key1中没有的</span></span><br><span class=\"line\">1) <span class=\"string\">\"e\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"d\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sinter key1 key2 <span class=\"comment\">#key1和key2的交集</span></span><br><span class=\"line\">1) <span class=\"string\">\"c\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; sunion key1 key2 <span class=\"comment\">#key1和key2的并集</span></span><br><span class=\"line\">1) <span class=\"string\">\"a\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"c\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"b\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"d\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"e\"</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>4、Hash</strong><br>key-map（k-v）</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; flushdb</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; hset myhash field1 shane<span class=\"comment\">#set一个具体的key-value</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hget myhash field1</span><br><span class=\"line\"><span class=\"string\">\"shane\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hmset myhash field hello field2 world<span class=\"comment\">#set多个key-value</span></span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; hmget myhash field field2<span class=\"comment\">#获取多个字段值</span></span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"world\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall myhash<span class=\"comment\">#获取所有的值</span></span><br><span class=\"line\">1) <span class=\"string\">\"field1\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"shane\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\">6) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除指定的key字段，对应的value一起删除</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hdel myhash field1</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hgetall myhash</span><br><span class=\"line\">1) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#hlen获取hash表的长度</span></span><br><span class=\"line\">127.0.0.1:6379&gt;  hlen myhash</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#hexists 判断是否存在对应的key</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash field2</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash field</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hexists myhash fiel</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获得所有的value</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hvals myhash</span><br><span class=\"line\">1) <span class=\"string\">\"hello\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"world\"</span></span><br><span class=\"line\"><span class=\"comment\">#只获得所有field值</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hkeys myhash</span><br><span class=\"line\">1) <span class=\"string\">\"field\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"field2\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#incr</span></span><br><span class=\"line\">127.0.0.1:6379&gt; hset myhash fields3 5</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hincrby myhash fields3 1<span class=\"comment\">#指定增量1</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 6</span><br><span class=\"line\"></span><br><span class=\"line\">127.0.0.1:6379&gt; hsetnx myhash field4 hello<span class=\"comment\">#如果不存在可以创建</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; hsetnx myhash field4 hello<span class=\"comment\">#如果存在不可以设置</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 0</span><br></pre></td></tr></table></figure>\n\n<p>hash变更的数据user name age,尤其是用户信息之类的，经常变动的 信息！hash更加适合对象的存储，String更加适合字符串的存储</p>\n<p><strong>5、Zset（有序集合）</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; zadd myZset 1 one</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd myzset 2 two 3 three</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange myzset 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"three\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zadd myZset 2 two 3 three </span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange myZset 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"one\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"two\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"three\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#既然是有序的，就可以排序</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 2500 zhangsan</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 3000 lisi</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd salary 300 wangwu</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf +inf</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf inf withscores</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"300\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"2500\"</span></span><br><span class=\"line\">5) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">6) <span class=\"string\">\"3000\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrangebyscore salary -inf 2600 withscores</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"300\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">4) <span class=\"string\">\"2500\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#移除</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrange salary 0 -1<span class=\"comment\">#获取所有元素，默认从小到大</span></span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"zhangsan\"</span></span><br><span class=\"line\">3) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrevrange salary 0 -1<span class=\"comment\">#默认从大到小进行排序</span></span><br><span class=\"line\">1) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zrem salary zhangsan<span class=\"comment\">#移除指定的元素</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zrange salary 0 -1</span><br><span class=\"line\">1) <span class=\"string\">\"wangwu\"</span></span><br><span class=\"line\">2) <span class=\"string\">\"lisi\"</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zcard salary<span class=\"comment\">#获取有序集合中的个数</span></span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#按照区间获取成员数量</span></span><br><span class=\"line\">127.0.0.1:6379&gt; zcount myset 1 3</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; zcount myset 1 2</span><br><span class=\"line\">(<span class=\"built_in\">integer</span>) 2</span><br></pre></td></tr></table></figure>\n\n","categories":[],"tags":[{"name":"Redis","path":"api/tags/Redis.json"}]}